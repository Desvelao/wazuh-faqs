{"componentChunkName":"component---src-pages-faqs-markdown-remark-frontmatter-slug-js","path":"/faqs/enable-wazuh-archives/","result":{"data":{"markdownRemark":{"html":"<h3>Issue</h3>\n<p>Enable <code>archives</code> of <code>wazuh</code> module.</p>\n<h3>Remediation</h3>\n<p>The alerts generated by Wazuh is a subset of logs that match the Wazuh rules. If you want log all the data:</p>\n<ol>\n<li>Enable the logging of all logs in the Wazuh manager.</li>\n</ol>\n<p>There is 2 files:</p>\n<ul>\n<li><code>archives.log</code>: store all logs. In the Wazuh manager set:</li>\n</ul>\n<pre><code class=\"language-xml\">&#x3C;logall>yes&#x3C;/logall>\n</code></pre>\n<ul>\n<li><code>archives.json</code>: store all logs as json. If you want to index this data to Elasticsearch/Wazuh indexer, enable the setting to store logs to this file.</li>\n</ul>\n<pre><code class=\"language-xml\">&#x3C;logall_json>yes&#x3C;/logall_json>\n</code></pre>\n<blockquote>\n<p>Take in account that enable the logging to these files take much space. It is recommended that is disabled if it is not required.</p>\n</blockquote>\n<ol start=\"2\">\n<li>Enable the indexation of <code>archives</code> logs to Elasticsearch/Wazuh indexer.</li>\n</ol>\n<blockquote>\n<p>The <code>wazuh</code> module for Filebeat has the <code>archives</code> fileset with the configuration to read the <code>archives.json</code> and index the data. It is required that the logging to this file is enabled.</p>\n</blockquote>\n<p>2.1. Edit the Filebeat configuration <code>filebeat.yml</code> located in <code>/etc/filebeat/filebeat.yml</code>. Enable the module changing the <code>archives</code> <code>enabled</code> property to <code>true</code>.</p>\n<pre><code class=\"language-yml\">filebeat.modules:\n  - module: wazuh\n    alerts:\n      enabled: true\n    archives:\n      enabled: true\n</code></pre>\n<p>2.2. Restart Filebeat service. Depending on the process manager:</p>\n<pre><code class=\"language-sh\">systemctl restart filebeat\n# or\nservice restart filebeat\n</code></pre>","frontmatter":{"date":"April 18, 2022","slug":"enable-wazuh-archives","title":"Enable Wazuh archives","tags":["filebeat","archives"],"version":"","description":"Enable Wazuh `archives` in the manager and Filebeat","author":""}}},"pageContext":{"id":"18bfd1ad-ef71-54b2-95cf-f04e6311db5e","frontmatter__slug":"enable-wazuh-archives","__params":{"frontmatter__slug":"enable-wazuh-archives"}}},"staticQueryHashes":["1340339594"]}