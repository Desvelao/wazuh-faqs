{"componentChunkName":"component---src-pages-faqs-markdown-remark-frontmatter-slug-js","path":"/faqs/elasticsearch-circuit-breaker-exception/","result":{"data":{"markdownRemark":{"html":"<h3>Issue</h3>\n<p><code>circuit_breaking_exception Data too large, data for [&#x3C;http_request>]</code></p>\n<h3>Remediation</h3>\n<p>It seems like your Wazuh indexer/Elasticsearch is running out of RAM.</p>\n<p>The <strong>circuit_breaking_exception</strong> is a mechanism used to prevent operations from causing an <strong>OutOfMemoryError</strong>. It seems like Wazuh indexer/Elasticsearch was using most of the JVM heap configured, and the total memory required for all operations was higher to the memory available, so the operation you requested was aborted.</p>\n<p>To fix this problem, increase the heap size, taking in account:</p>\n<ul>\n<li>Use no more than 50% of available RAM.</li>\n<li>Use no more than 32 GB.</li>\n</ul>\n<p>Note that the JVM heap min and max The values min (Xms) and max (Xmx) sizes must be the same to prevent JVM heap resizing at runtime as this is a very costly process.</p>\n<p>in the <code>java.options</code> file of the plugin platform:</p>\n<ul>\n<li>Elasticsearch (package): <code>/etc/elasticsearch/jvm.options</code></li>\n<li>Elasticsearch (Docker): <code>/usr/share/elasticsearch/config/jvm.options</code></li>\n<li>Wazuh indexer (package): <code>/etc/wazuh-indexer/jvm.options</code></li>\n<li>Wazuh indexer (Docker): <code>/usr/share/wazuh-indexer/config/jvm.options</code></li>\n</ul>\n<h4>Example</h4>\n<p>If you want to increase to 6GB:</p>\n<pre><code>-Xms6g\n-Xmx6g\n</code></pre>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://documentation.wazuh.com/current/user-manual/wazuh-indexer/wazuh-indexer-tuning.html#memory-locking\">https://documentation.wazuh.com/current/user-manual/wazuh-indexer/wazuh-indexer-tuning.html#memory-locking</a></li>\n<li><a href=\"https://documentation.wazuh.com/current/user-manual/elasticsearch/elastic-tuning.html\">https://documentation.wazuh.com/current/user-manual/elasticsearch/elastic-tuning.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/61870751/circuit-breaking-exception-parent-data-too-large-data-for-http-request\">https://stackoverflow.com/questions/61870751/circuit-breaking-exception-parent-data-too-large-data-for-http-request</a></li>\n<li><a href=\"https://www.elastic.co/guide/en/elasticsearch/guide/current/heap-sizing.html\">https://www.elastic.co/guide/en/elasticsearch/guide/current/heap-sizing.html</a></li>\n</ul>","frontmatter":{"date":"July 20, 2022","slug":"elasticsearch-circuit-breaker-exception","title":"Circuit breaker error","tags":["elasticsearch","circuit-breaker-exception"],"version":"","description":"circuit_breaking_exception Data too large error","author":"Desvelao"}}},"pageContext":{"id":"63fdabcd-7a7a-55af-9a4f-8bdda046d6e0","frontmatter__slug":"elasticsearch-circuit-breaker-exception","__params":{"frontmatter__slug":"elasticsearch-circuit-breaker-exception"}}},"staticQueryHashes":["1340339594"]}