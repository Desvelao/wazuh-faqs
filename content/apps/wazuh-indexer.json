{
  "name": "Wazuh indexer",
  "slug": "wazuh-indexer",
  "description": "The Wazuh indexer is a highly scalable, full-text search and analytics engine. This Wazuh central component indexes and stores alerts generated by the Wazuh server and provides near real-time data search and analytics capabilities. The Wazuh indexer can be configured as a single-node or multi-node cluster, providing scalability and high availability. This is based in the OpenSearch distribution.",
  "documentationLink": "https://documentation.wazuh.com/current/getting-started/components/wazuh-indexer.html",
  "icon": "",
  "info_tabs": [
    {
      "label": "Info",
      "content": [
        {
          "type": "table",
          "table": {
            "title": "General",
            "columns": [
              {
                "id": "description",
                "label": "Description"
              },
              {
                "id": "value",
                "label": "Value",
                "copyable": true
              }
            ],
            "rows": [
              {
                "description": "Installation folder",
                "value": "/usr/share/wazuh-indexer"
              },
              {
                "description": "Configuration file (package)",
                "value": "/etc/wazuh-indexer/opensearch.yml"
              },
              {
                "description": "Configuration file (zip)",
                "value": "<WAZUH_INDEXER>/config/opensearch.yml"
              },
              {
                "description": "Logs",
                "value": "/var/log/wazuh-indexer/<CLUSTER_NAME>.log"
              },
              {
                "description": "Logs",
                "value": "journalctl -u wazuh-indexer"
              },
              {
                "description": "Port API",
                "value": "9200"
              },
              {
                "description": "Port Service",
                "value": "9600"
              },
              {
                "description": "Service",
                "value": "wazuh-indexer"
              },
              {
                "description": "JVM options file",
                "value": "/etc/wazuh-indexer/jvm.options"
              }
            ]
          }
        },
        {
            "type": "command",
            "command": {
                "label": "Cluster - Health",
                "value": "GET /_cluster/health"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Cat - Indices",
                "value": "GET /_cat/indices"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Cat - Indices (display column names)",
                "value": "GET /_cat/indices?v"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Cat - Indices (using index pattern)",
                "value": "GET /_cat/indices/<INDEX_PATTERN>"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Cat - Templates",
                "value": "GET /_cat/templates"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Template - (using template name)",
                "value": "GET /_template/<TEMPLATE_NAME>"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Reindex",
                "value": "GET /_reindex/\n{\n\t\"source\":{\"index\": \"<SOURCE_INDEX>\"},\n\t\"dest\":{\"index\": \"<DESTINATION_INDEX>\"}\n}"
            }
        }
      ]
    },
    {
      "label": "Backup",
      "content": [
        {
          "type": "table",
          "table": {
            "title": "Backup folders/files",
            "columns": [
              {
                "id": "description",
                "label": "Key"
              },
              {
                "id": "value",
                "label": "File",
                "copyable": true
              }
            ],
            "rows": [
              {
                "description": "Package - Configuration",
                "value": "/etc/wazuh-indexer"
              },
              {
                "description": "Package - Certificates - Wazuh installation guide",
                "value": "/etc/wazuh-indexer/certs"
              },
              {
                "description": "Docker - Configuration",
                "value": "/usr/share/wazuh-indexer/config"
              },
              {
                "description": "Certificates",
                "value": "All certificates files"
              },
              {
                "description": "Initial configuration",
                "value": "/usr/share/wazuh-indexer/plugins/opensearch-security/securityconfig"
              },
              {
                "description": "Alternative - Configuration",
                "value": "$OPENSEARCH_PATH_CONF directory"
              }          
            ]
          }
        }
      ]
    },
    {
      "label": "Commands",
      "content": [
        {
            "type": "command",
            "command": {
                "label": "Service start - systemctl",
                "value": "systemctl start wazuh-indexer"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Service start - service",
                "value": "service wazuh-indexer start"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Service stop - systemctl",
                "value": "systemctl stop wazuh-indexer"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Service stop - service",
                "value": "service wazuh-indexer stop"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Get version",
                "value": "<WAZUH_INDEXER_PATH>/bin/opensearch --version"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Plugins - List",
                "value": "<WAZUH_INDEXER_PATH>/bin/opensearch-plugin list"
            }
        }
      ]
    },
    {
      "label": "Debug",
      "content": [
        {
            "type": "command",
            "command": {
                "label": "Service status - systemctl",
                "value": "systemctl status wazuh-indexer"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Service status - service",
                "value": "service wazuh-indexer status"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Logs - get logs filtering by errors or warnings",
                "value": "grep -iE \"err|warn\" /var/log/wazuh-indexer/<CLUSTER_NAME>.log"
            }
        },
        {
            "type": "command",
            "command": {
                "label": "Logs - get logs filtering by errors or warnings with context",
                "value": "grep -iE -C 10 \"err|warn\" /var/log/wazuh-indexer/<CLUSTER_NAME>.log"
            }
        }
    ]
    }
  ]
}
